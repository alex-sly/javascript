(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function r(s){let c=(s-o)/l;c>1&&(c=1);let n=e(c);t(n),c<1&&requestAnimationFrame(r)}))};(()=>{const t=document.querySelectorAll(".callback-btn"),l=document.querySelector(".modal-overlay"),o=document.getElementById("callback"),r=o.querySelector(".modal-close>img"),s=document.querySelector(".services-carousel"),c=document.querySelector(".button-services"),n=()=>{l.style.display="block",o.style.display="block",screen.width>=768&&(o.style.top="-100%",e({duration:200,timing:e=>e,draw(e){o.style.top=Math.floor(100*e-80)+"%"}}))},a=()=>{l.style.display="",o.style.display=""};t.forEach((e=>{e.addEventListener("click",(()=>n()))})),o.addEventListener("click",(e=>{e.target===r&&a()})),l.addEventListener("click",(()=>a())),s.addEventListener("click",(e=>{e.target.closest(".element")&&n()})),c.addEventListener("click",(()=>{n()}))})(),document.querySelectorAll("ul>li>a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),(()=>{const e=document.getElementById("services"),t=document.querySelector(".up");let l=0;window.addEventListener("scroll",(()=>{l=window.pageYOffset,l>=e.offsetTop?t.style.display||(t.style.display="block"):t.style.display&&(t.style.display="")})),t.addEventListener("click",(()=>{document.documentElement.scrollIntoView({behavior:"smooth"})}))})(),(()=>{const t=document.getElementById("slider"),l=t.querySelectorAll(".item"),o=t.querySelectorAll(".table"),r=t.querySelectorAll(".slick");let s,c=0;const n=(e,t)=>{e[t].style.left="",e[t].style.zIndex="",o[t].classList.add("active"),r[t].classList.add("slick-active")},a=()=>{((t,l)=>{t[l].style.zIndex="1",screen.width>=768&&e({duration:500,timing:e=>e,draw(e){t[l].style.left=Math.floor(-100*e)+"%"}}),o[l].classList.remove("active"),r[l].classList.remove("slick-active")})(l,c),c++,c>=l.length&&(c=0),n(l,c)};n(l,c),((e=3e3)=>{s=setInterval(a,e)})(3e3)})(),(()=>{const e=document.querySelector(".services-carousel").querySelectorAll(".services-carousel>div"),t=document.querySelector(".arrow-left"),l=document.querySelector(".arrow-right");let o=0,r=0;const s=e=>{e.classList.contains("arrow-disabled")||(e.classList.add("arrow-disabled"),e.setAttribute("disabled",""))},c=e=>{e.classList.contains("arrow-disabled")&&(e.classList.remove("arrow-disabled"),e.removeAttribute("disabled",""))},n=()=>{const c=document.defaultView.innerWidth;let n=3;c<992&&(n=2),c<768&&(n=1),r=o+n-1,0===o&&s(t),r>=e.length-1&&s(l),e.forEach(((e,t)=>{e.style.display=t>=o&&t<=r?"":"none"}))};t.addEventListener("click",(()=>{o>0&&(o--,c(l)),n()})),l.addEventListener("click",(()=>{r<e.length-1&&(o++,c(t)),n()})),window.addEventListener("resize",(()=>n())),n()})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),l=e.querySelectorAll(".element>.title"),o=e.querySelectorAll(".element>.element-content");e.addEventListener("click",(e=>{const r=e.target.closest(".title");r&&t.forEach(((e,t)=>{l[t]===r?(e.classList.add("active"),o[t].style.display="block"):(e.classList.remove("active"),o[t].style.display="none")}))}))})(),(()=>{const e=document.getElementById("form-callback"),t=e.querySelector("input[type='text']"),l=e.querySelector("input[type='tel']"),o=(e,t=!1)=>{let l=e.target.value.match(/\S+/g),o=[];l&&(l.forEach((e=>{let l;do{l=e,e=l.replace("--","-")}while(e!==l);e=e.replace(/^-(.+)/,((e,t)=>t)).replace(/(.+)-$/,((e,t)=>t)),t&&(e=e[0].toUpperCase()+e.slice(1).toLowerCase()),o.push(e)})),e.target.value=o.join(" "))};t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\s]+/g,"")})),t.addEventListener("blur",(e=>o(e,!0))),l.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d\+]+/g,"")})),l.addEventListener("blur",(e=>o(e,!1)))})(),((e,t=[{}])=>{const l=document.getElementById(e),o=document.getElementById("responseMessage"),r=o.querySelector(".modal-content"),s=o.querySelector(".button"),c="Ошибка отправки формы...",n=document.querySelector(".modal-overlay"),a=document.getElementById("callback"),i=e=>{r.innerHTML="<font color='#f02a29'>"+e+"</font>",s.style.display="",s.focus()};s.addEventListener("click",(e=>{e.preventDefault(),o.style.display="",a.style.display||document.documentElement.scrollIntoView({behavior:"smooth"})}));try{if(!l)throw new Error("Верните форму на место");l.addEventListener("submit",(e=>{e.preventDefault(),o.style.display="block",r.innerHTML="Идет отправка формы...",s.style.display="none",(()=>{const e=l.querySelectorAll("input"),o=new FormData(l),d={};var u;o.forEach(((e,t)=>{d[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?d[e.id]=t.textContent:"input"===e.type&&(d[e.id]=t.value)})),(e=>{let t=!0;return e.forEach((e=>{e.value||(t=!1)})),t})(e)?(u=d,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((e=>{if(!e.ok)throw new Error(c);e.json()}))).then((t=>{r.innerHTML="Отправлено! Наш менеджер с вами свяжется.",s.style.display="",s.focus(),e.forEach((e=>{e.value=""})),n.style.display="",a.style.display=""})).catch((e=>{i(c)})):i("Заполните все поля формы!")})()}))}catch(e){console.log(e.message)}})("form-callback")})();